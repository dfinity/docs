= Hackathon Quick Start
:experimental:
// Define unicode for Apple Command key.
:commandkey: &#8984;
:proglang: Motoko
:platform: Internet Computer platform
:IC: Internet Computer
:ext: .mo
:company-id: DFINITY
:sdk-short-name: DFINITY Canister SDK
:sdk-long-name: DFINITY Canister Software Development Kit (SDK)
ifdef::env-github,env-browser[:outfilesuffix:.adoc]

[[quick-start-intro]]
The {sdk-long-name} provides tools, sample code, and documentation to help you create programs to run on a *locally-deployed* {IC} network provider.

NOTE: Only *macOS* and *Linux* platforms are supported. 
In addition, this _Hackathon Quick Start_ assumes that you are installing the {sdk-short-name} for the first time.
If you have a previous version of the {sdk-short-name} package installed locally, uninstall the software by following the instructions in link:../developers-guide/getting-started{outfilesuffix}#uninstall[Uninstalling the SDK] before continuing to <<Download and install>> in this guide.

[[before-you-begin]]
== Before you begin

Before you download and install this release of the SDK, verify the following:

* You have an internet connection and access to a shell terminal on your local macOS or Linux computer.

* You have `+node.js+` installed if you want to include the default template files for front-end development in your project.

If you aren't sure how to open a new terminal shall on your local computer or how to install `node.js`, see <<Preliminary steps for newcomers>>.
If you are comfortable meeting the prerequisites without instructions, continue to <<Download and install>>.

[[newcomers]]
=== Preliminary steps for newcomers

If this is the first time you are installing developer tools on your computer, you might need to take a few extra steps to prepare your environment.

NOTE: The instructions here assume that you are using a macOS computer.

Before you install the {sdk-short-name}, you need to know:

* How to open and run commands in a terminal
* How to check for and install packages and dependencies
* How to create and navigate to new directories

The steps in this section describe how to prepare a basic development environment.

==== Open a terminal

To open the Terminal application on macOS:

. Open the Finder. 
. Click *Applications*, open *Utilities*, then double-click *Terminal*.
+
Alternatively, you can press the kbd:[{commandkey} + spacebar] keyboard keys to open Search, then type `terminal`.
+
The terminal is where you are going to execute command-line instructions. 
To execute a command, you type or copy and paste an instruction, then press kbd:[Return].
. Check your current path by running the print working directory–`pwd`—command, then pressing kbd:[Return].
+
[source,bash]
----
pwd
----
+
This command displays your current directory with a path like `/Users/<your-user-name>`.
+
After you open the Terminal application, you can open new terminal shell at any time by clicking *Shell*, then selecting *New Window* or *New Tab*.
+
By default, a new terminal shell always opens in your home directory with a path like `/Users/<your-user-name>`.

==== Check for packages

The Homebrew application is a package manager for macOS that makes it easy to install and update packages—that is, external programs—that you need to have available in a local development environment.

The `node.js` package provides a JavaScript runtime environment and modules for front-end user interface development. 
The `node.js` package is not required to build programs, but you'll probably need it is you want to add a graphical user interface to your program.

To check and install packages:

. Check whether you have the Homebrew package manager installed by running the following command:
+
[source,bash]
----
brew --version
----
+
If the command returns version information, continue to the next step.
If Homebrew isn't installed, copy and paste the following command in your terminal:
+
[source,bash]
----
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
----
. Check whether you have the `node.js` package manager installed by running the following command:
+
[source,bash]
----
node --version
----
+
If the command returns version information, continue to the next step.
If `node.js` isn't installed, copy and paste the following command in your terminal:
+
[source,bash]
----
brew install node
----

NOTE: If your development environment is Linux, you can use `nix-env -i` instead of Homebrew to install packages. 
For example, use `nix-env -iA nixos.nodejs-13_x` to install the `nodejs-13.8.0` package. 
If you need to search for a package, try typing the package name in link:https://nixos.org/nixos/packages.html?channel=nixos-20.03[NixOS Channels] on the link:nixos.org[NixOS] website.

==== Create a working folder

By default, a new terminal shell always opens in your home directory with a path like `/Users/<your-user-name>`.
To keep your workspace tidy, you can create a separate folder for your Hackathon projects.

To create a new working folder:

. Open a terminal shell on your local computer, if you don’t already have one open.
. Create a new folder called `ic-hackathon` in your home directory by running the following command:
+
[source,bash]
----
mkdir ic-hackathon
----
. Change to the new working folder by running the following command:
+
[source,bash]
----
cd ic-hackathon
----

Now you're ready to install the {sdk-short-name} and get coding!

[[download-and-install]]
=== Download and install

For the Hackathon, you must have the latest _not publicly promoted_ version of the {sdk-short-name} available on your local computer.
To download this version of the {sdk-short-name} package, you must specify the version using an environment variable. 

To download and install:

[arabic]
. Open a terminal shell on your local computer, if you don’t already have one open.
+
For example, open Applications, Utilities, then double-click *Terminal* or press kbd:[{commandkey} + spacebar] to open Search, then type `terminal`.
. Download and install the SDK package by running the following command:
+
[source,bash]
----
DFX_VERSION=0.5.9 sh -ci "$(curl -fsSL https://sdk.dfinity.org/install.sh)"
----
+
This command prompts you to read and accept the license agreement before installing the `+dfx+` command-line interface executable and its dependencies on your local computer.
. Type `+y+` and press kbd:[Return] to continue with the installation.
+
The command displays information about the components being installed on the local computer.

[[verify-the-sdk-is-ready-to-use]]
=== Verify the SDK is ready to use

If the installation script runs without any errors, everything you need to start developing programs that run on the {platform} will be available on your local computer.

To verify the SDK is ready to use:

[arabic]
. Open a terminal shell on your local computer, if you don’t already have one open.
. Check that you have the SDK developer command-line interface installed and the executable is available in your PATH by running the following command:
+
[source,bash]
----
dfx --version
----
+
The command displays version information for the developer command-line interface similar to the following:
+
[source,bash]
----
dfx 0.5.9
----
. Preview usage information for the other developer command-line interface sub-commands by running the following command:
+
[source,bash]
----
dfx --help
----
+
The command displays usage information for the `+dfx+` parent command and its subcommands.

[[install-vscode]]
== Install the language editor plug-in

If you are planning to write a program using {proglang} and use Visual Studio Code (VSCode) as your editor, you can install the {proglang} language client plug-in for VSCode.
The {proglang} plug-in provides syntax highlighting, type information, and auto-completion features.

To install the plug-in:

. Download and install link:https://code.visualstudio.com/download[Visual Studio], if it not already installed on your local computer.
. Click View, then select **Extensions**.
. Type `motoko` in the Search field.
. Select the **Motoko language support** published by DFINITY Foundation, then click **Install**.

If your program has dependencies, you might also want to install the Vessel package manager for {proglang}.
For instructions, see the link:https://github.com/kritzcreek/vessel[ReadMe].
To download the latest release, go to the link:https://github.com/kritzcreek/vessel/releases[vessel] GitHub repository.

[[create-a-new-project]]
== Create a new project

You are now ready to create a new project for your first sample application.

To create a new project directory for your first application:

[arabic]
. Open a terminal shell on your local computer, if you don’t already have one open.
. Create a new project directory for your first application by running the following commands:
+
[source,bash]
----
dfx new hello
----
+
The `+dfx new hello+` command creates a new `+hello+` project with a default project directory, some template files, and a new Git repository for your project.
. Change to your project directory by running the following command:
+
[source,bash]
----
cd hello
----

[[start-the-local-network]]
== Start the local network

Before you can build your first project, you need to connect to the {IC} network either running locally in your development environment or running remotely on a sub-network that you can access.

For now, let's start your local network provider.
As a best practice, this step requires you to have two terminal shells open, so that you can start and see network operations in one terminal and manage your project in another.

To start the local network:

[arabic]
. Open a new terminal window or tab on your local computer and navigate to your project directory.
+
For example, click *Shell*, select *New Window*, then run the following command in the new terminal:
+
[source,bash]
----
cd ~/ic-hackathon/hello
----
+
You should now have two terminal windows open with your project directory as your current working directory.
+
You can check that you are in your project directory by running the following command in both windows, if needed:
+
[source,bash]
----
pwd
----
+
You should see a path similar to the following:
+
[source,bash]
----
/Users/<your-user-name>/ic-hackathon/hello
----
. Start the {IC} network on your local computer by running the following command:
+
[source,bash]
----
dfx start
----
+
Depending on your platform and local security settings, you might see a warning displayed. 
If you are prompted to allow or deny incoming network connections, click *Allow*.
. Leave the terminal that displays network operations open and switch your focus to your original terminal where you created your new project.

[[build-the-project]]
== Build the program

Your new `+hello+` project includes a simple default program in the `+src/hello+` directory that you can compile.

To build the program executable:

. Check that you are still in your project directory by running the following command:
+
[source,bash]
----
pwd
----
+
You should see a path similar to the following:
+
[source,bash]
----
/Users/<your-user-name>/ic-hackathon/hello
----
. View the contents of the source directory for your project directory by running the following command:
+
[source,bash]
----
ls -l src/hello
----
+
Note that the `src/hello` directory includes a default `+main.mo+` program for your project.
////
. Install node modules by running the following command:
+
[source,bash]
----
npm install
----
////
. Build the executable from the default `+main.mo+` file by running the following command:
+
[source,bash]
----
dfx build
----
You should see output similar to the following:
+
[source,bash]
----
Building canisters...
Building frontend...
----

[[deploy]]
== Deploy your program locally

The `+dfx build+` command created several artifacts in a `canisters` directory for your project. 
You now have a compiled program that can be deployed on your local {IC} network.

To deploy locally:

[arabic]
. Check that you are still in your project directory by running the following command:
+
[source,bash]
----
pwd
----
+
You should see a path similar to the following:
+
[source,bash]
----
/Users/<your-user-name>/ic-hackathon/hello
----
. Deploy the default program on the local network by running the following command:
+
[source,bash]
----
dfx canister install hello
----
+
You should see an installation confirmation message for your canister similar to the following:
+
[source,bash]
----
Installing code for canister hello, with canister_id ic:0100000000000000000000000000000000012D
----
. Call the predefined `+greet+` function in the program by running the following command:
+
[source,bash]
----
dfx canister call hello greet '("there")'
----
+
This example uses the `+dfx canister call+` command to pass "there" as an argument of type `+string+` to the `+greet+` function.
. Verify the command displays the return value of the `+greet+` function.
+
For example:
+
[source,bash]
----
("Hello, there!")
----

[[modify-the-program]]
== Modify the code and re-deploy

You now have compiled, deployed, and tested your first {proglang} program on your local {IC} network.
The next step is to try modifying the template code and experimenting on your own.

To get you started, let's write a simple program that is similar to the default template but introduces a few new concepts and techniques.

To modify the template source code:

. Check that you are still in your project directory by running the following command:
+
[source,bash]
----
pwd
----
+
You should see a path similar to the following:
+
[source,bash]
----
/Users/<your-user-name>/ic-hackathon/hello
----
. Change to the source code directory for your project by running the following command:
+
[source,bash]
----
cd src/hello
----
. Open the template `+main.mo+` file in a text editor and delete the existing content.
+
The program we are about to write uses a function in the Motoko base library for natural numbers, so we want to import that module.
. Add an `import` statement as the first line in your new program:
+
[source,bash]
----
import Nat "mo:base/Nat";
----
+
The next step is to declare the variables and types that we want to use.
. Add variable declarations for `count` as a natural number and `output` and `name` as text data types:
+
[source,bash]
----
var count: Nat = 0;
var output : Text = "Welcome to the DFINITY Hackathon, ";
var name : Text = " ";
----
+
In the next step, we'll create an actor with two simple functions—`whoami` and `get`—to display a welcome message and increment a counter.
. Copy and paste the following sample code into the `+main.mo+` file:
+
[source,motoko]
----
actor HelloActor {

   public func whoami(name: Text) : async Text {
      count += 1; 
      output # name # ": " # Nat.toText(count)
   };

   public query func get() : async Text {
      output # "your counter value is: " # Nat.toText(count);
   };
};
----
+
In this code sample, the `whoami` function increments a counter using the `count +=1` expression. 
This operation is a state change, so the `whoami` function is an *update* call. 
+
The `get` function is only used to retrieve the counter value without making any changes to state, so the `get` function is a *query* call.
+
Query calls return results faster.
In designing an application, you should consider where a query call might make your program more efficient. 
+
For more information about the difference between update and query calls, see link:https://sdk.dfinity.org/docs/developers-guide/introduction-key-concepts{outfilesuffix}#query-calls[query calls] in link:.https://sdk.dfinity.org/docs/developers-guide/introduction-key-concepts{outfilesuffix}#canister-state[Canisters include both program and state].
+
The `actor` in this code sample returns text, so both the `whoami` and `get` functions use the `Nat.toText` function from the natural numbers (`Nat`) base library to convert the `count` variable to text.
+
If you want to copy and paste the whole program at once, it looks like this:
+
[source,motoko]
----
include::example$hack-hello.mo[]
----
. Save your changes and close the modified `+main.mo+` file.
. Build a new executable for your modified program by running the following command:
+
[source,bash]
----
dfx build
----
. Deploy your updated `+hello+` project on the local network by running the following command:
+
[source,bash]
----
dfx canister install hello  --mode upgrade
----
+
This command displays a confirmation message with the same canister identifier your program received when you built the default project.
+
For example, you should see a message similar to the following:
+
[source,bash]
----
Installing code for canister hello, with canister_id ic:0100000000000000000000000000000000012D
----
+
Take note of the canister identifier (beginning with the `ic:` prefix) on paper or in a notepad application. 
We'll use this identifier a little later.
. Use `+dfx canister call+` to call the `+whoami+` function with your name as an argument by running a command similar to the following:
+
[source,bash]
----
dfx canister call hello whoami '("YOUR-NAME")'
----
+
Verify the program displays output similar to the following:
+
[source,bash]
----
("Welcome to the DFINITY Hackathon, Jane: 1")
----
+
You might want to repeat this command a few times to see the counter value increment.
. Use `+dfx canister call+` to call the `+get+` function by running the following command:
+
[source,bash]
----
dfx canister call hello get
----
+
Verify the program displays output similar to the following:
+
[source,bash]
----
("Welcome to the DFINITY Hackathon, your counter value is: 3")
----

[[front-end]]
== Build a front-end user interface

Congratulations are in order: you have just created your first *terminal application* using the {proglang} programming language.

At this point, your program doesn't have a *front-end interface* that you might expect a web-based application to have, but you can still experiment with it in a browser using *Candid*.

=== Using Candid

The Candid canister interface description language provides a web interface
that allows you to call canister functions for testing your program without writing a custom front-end interface.

To try out your program in a browser:

. Open a browser tab and navigate to the default host name and port, localhost:8000 or 127.0.0.1:8000.
. Add the `+candid+` endpoint to access the Candid web interface followed by the required `canisterId` parameter and canister identifier.
+
For example, the full URL should look similar to the following but with the `+ic:_canister_identifier_+` that was returned by the `+dfx canister install+` command:
+
[source,bash]
----
http://localhost:8000/candid?canisterId=<YOUR-CANISTER-IDENTIFIER>
----
+
The browser displays your program in a form similar to the following:
+

[role="hack"]
image::hack-candid.png[Candid,442,284]

. Type a name for the `whoami` function, then click *Call* to see the result. 
. Delete the text from the `whoami` function, then click *Lucky* to generate a random text value and see the result.
. Click *Query* for the `get` function.

=== Building your own front-end

To build your own front-end user interface, you need to know a little about formatting using markup languages like HTML and cascading stylesheets (CSS). 
You also need to be familiar with the Document Object Model (DOM) that defines the logical structure of documents and how to use JavaScript or JQuery to render and manipulate your front-end documents.

In most cases, you will also want to use some type of web development framework like Bootstrap, React, Vue, or Angular. 
These frameworks (and others) provide a toolbox for working with graphical elements—like buttons, menus, and forms—that are key components when building a modern front-end interface.

You can find some examples for using React, HTML, and CSS in the following tutorial projects:

* link:https://sdk.dfinity.org/docs/developers-guide/tutorials/custom-frontend{outfilesuffix}[Customizing the front-end]
* link:.https://sdk.dfinity.org/docs/developers-guide/tutorials/my-contacts{outfilesuffix}#canister-state[Adding a stylesheet].

You can also explore the source code for the LinkedUp and Journey programs here:

* link:https://github.com/dfinity-lab/linkedup/tree/master/src/linkedup/public[LinkedUp front-end source code folder]
* link:https://github.com/hansl/journey/tree/master/src/journey/public[Journey blog engine front-end source code folder]

[[stop-the-local-replica]]
== Stop the local network

After you finish experimenting with your program, you can stop the local {IC} network process so that it doesn't continue running in the background.

To stop the local network:

. In the terminal that displays network operations, press Control-C to interrupt the local network process.
. Stop the local {IC} network by running the following command:
+
[source,bash]
----
dfx stop
----

[[next-steps]]
== Next steps

This _Quick start_ touched on only a few key steps to introduce the basic workflow you follow to develop programs of your own.

To explore further, check out the following resources:

* link:https://sdk.dfinity.org/docs/developers-guide/tutorials-intro{outfilesuffix}[Tutorials]
* link:https://github.com/dfinity/examples/tree/master/motoko[Motoko examples]
* link:https://github.com/dfinity/examples/tree/master/c[C examples]
* link:https://sdk.dfinity.org/docs/language-guide/motoko{outfilesuffix}[{proglang} Language Guide]
* link:https://sdk.dfinity.org/docs/base-libraries/stdlib-intro{outfilesuffix}[{proglang} Base Library]
